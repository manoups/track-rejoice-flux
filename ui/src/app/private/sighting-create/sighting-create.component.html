<h1>Create Sighting</h1>

<div class="example-container">
  <form [formGroup]="form" (ngSubmit)="create()">
    <div>
      <div class="example-form-fields" formGroupName="coords">
        <mat-form-field hideRequiredMarker="true">
          <mat-label>Latitude</mat-label>
          <input type="number" matInput placeholder="e.g. 4.9876" formControlName="lat"/>
          @if (form.controls.coords.controls.lat.errors) {
            <mat-error>{{ form.controls.coords.controls.lat | printerror }}</mat-error>
          }
        </mat-form-field>
        <mat-form-field hideRequiredMarker="true">
          <mat-label>Longitude</mat-label>
          <input type="number" matInput placeholder="e.g. 52.1234" formControlName="lng"/>
          @if (form.controls.coords.controls.lng.errors) {
            <mat-error>{{ form.controls.coords.controls.lng | printerror }}</mat-error>
          }
        </mat-form-field>
      </div>
      <div class="example-form-fields">
        <mat-form-field hideRequiredMarker="true">
          <mat-select formControlName="type">
            <mat-option value="cat">Cat</mat-option>
            <mat-option value="dog">Dog</mat-option>
          </mat-select>
          <mat-label>Type</mat-label>
        </mat-form-field>
      </div>
      <div class="example-form-fields">
        <mat-checkbox formControlName="removeAfterMatching">Remove after matching</mat-checkbox>
      </div>
    </div>
    <section>
      <div class="example-button-row">
        <button matButton="elevated" type="submit" [disabled]="submitting()">
          Create
        </button>
      </div>
    </section>
    @if (form.touched && form.invalid) {
      <p class="control-error">Form is invalid</p>
    }
  </form>
</div>


<div style="margin-bottom: 1rem;">
  <a routerLink="/sightings" class="btn btn-link">Back to list</a>
</div>
